# Neo4j数据导入CSV文件格式说明

本文档详细说明用于Neo4j知识图谱导入的CSV文件格式要求。导入过程需要两个CSV文件：节点文件和关系文件。

## 1. 节点文件 (nodes.csv)

### 必需字段
- **id**: 节点唯一标识符，不能重复
- **name**: 节点名称

### 可选字段
- **type**: 节点类型（如：人物、概念、事件等）
- **description**: 节点的详细描述

### 格式示例
```csv
"id,name,type,description"
"1,人工智能,领域,模拟人类智能的计算机系统"
"2,机器学习,技术,通过数据训练模型"
"3,深度学习,技术,基于神经网络的机器学习"
```

## 2. 关系文件 (relationships.csv)

### 必需字段
- **sourceId**: 源节点ID（必须存在于节点文件中）
- **targetId**: 目标节点ID（必须存在于节点文件中）
- **type**: 关系类型

### 可选字段
- **weight**: 关系权重（浮点数），默认为1.0
- **description**: 关系的详细描述

### 格式示例
```csv
"sourceId,targetId,type,weight,description"
"1,2,包含,1.0,人工智能包含机器学习"
"1,3,包含,1.0,人工智能包含深度学习"
"2,3,属于,0.8,深度学习属于机器学习"
```

## 注意事项

1. CSV文件的第一行必须是列名
2. 支持标题行和数据行被双引号包裹的格式（如上面示例所示）
3. 列名大小写不敏感（例如：`sourceid`、`SourceId`、`SOURCEID`都是有效的）
4. 关系文件的字段名支持以下多种格式：
   - 源节点ID：`sourceId`、`source_id`、`source`、`from`
   - 目标节点ID：`targetId`、`target_id`、`target`、`to`
5. 关系类型支持中文，系统会自动处理为Neo4j兼容的格式
   - 例如："包含" 会转换为 "包含" 会转换为 "\_\_\_\_"，但原始中文名称会被保留为关系属性
6. 确保所有关系文件中的sourceId和targetId都在节点文件中有对应的id
7. 文件编码应为UTF-8，以确保正确处理中文字符
8. 如果字段值中包含逗号，请用双引号包围该字段
9. 导入过程会自动清空Neo4j数据库中现有的数据，请确保备份重要数据

## 导入步骤

1. 在管理页面选择"数据录入"标签
2. 同时选择节点文件和关系文件
3. 点击上传按钮（也可以拖放文件到上传区域）
4. 等待上传和处理完成
5. 查看导入日志获取导入结果

## 清空数据库

如果您需要清空数据库而不上传新数据：
1. 在数据录入界面点击"清空数据库"按钮
2. 在弹出的确认对话框中确认操作（需要二次确认）
3. 系统将删除所有节点和关系数据

如有任何问题，请联系系统管理员。 